<div
	class=""
	*ngFor="let category of testGroups | keyvalue : mySortingFunction"
>
	<div
		class=""
		*ngIf="category.key !== ''"
	>
		<button
			type="button"
			class="w-full flex justify-start items-center gap-x-2"
			(click)="toggleGroupOpened(categoryGroupsLocal[category.key])"
		>
			<svg-icon
				class="w-3 h-3"
				[class.rotate-90]="categoryGroupsLocal[category.key].opened"
				src="assets/icons/soft-arrow.svg"
			></svg-icon>

			<div
				class="my-1 px-2 py-1 rounded inline-block"
				[style]="{
					background: categoryGroupsLocal[category.key].color.colorHEX + '4C',
					color: categoryGroupsLocal[category.key].color.colorHEX
				}"
			>
				<div class="brightness-50">
					{{ categoryGroupsLocal[category.key].name }}
				</div>
			</div>
		</button>

		<div
			class="ml-3"
			*ngIf="categoryGroupsLocal[category.key].opened"
		>
			<counter-category-select-dropdown-category-item
				class="text-sm"
				*ngFor="let innerCategory of category.value"
				[category]="innerCategory"
				[choiced]="currentCategory?._id === innerCategory._id"
				[searchValue]="searchValue"
				(itemClick)="onItemClick($event)"
			></counter-category-select-dropdown-category-item>
		</div>
	</div>

	<div
		class="mt-2"
		*ngIf="category.key === ''"
	>
		<counter-category-select-dropdown-category-item
			*ngFor="let innerCategory of category.value"
			[category]="innerCategory"
			[choiced]="currentCategory?._id === innerCategory._id"
			[searchValue]="searchValue"
			(itemClick)="onItemClick($event)"
		></counter-category-select-dropdown-category-item>
	</div>
</div>
